<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>Signin to TestParse</title>

    <!-- Bootstrap core CSS -->
    <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">


    <!-- Custom styles for this template -->
    <link href="css/signin.css" rel="stylesheet">

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>

    <!-- Get Parse -->
    <script type="text/javascript" src="http://www.parsecdn.com/js/parse-1.2.19.min.js"></script>

  </head>

  <body>

    <div class="container">

      <!-- Sign In page begins here -->
      <div class="signin_container">
        <form class="form-signin" role="form">
          <h2 class="form-signin-heading">TestParse</h2>
          <input class="form-control" placeholder="Username" id="username" autofocus="" >
          <input class="form-control" placeholder="Password" id="password" type="password">
          <div class="checkbox">
            <label>
              <input value="remember-me" type="checkbox"> Remember me
            </label>
          </div>
          <button class="btn btn-lg btn-primary btn-block" id="signIn" type="submit">Sign in</button>
          <button class="btn btn-lg btn-primary btn-block" id="signUp">Sign Up</button>
        </form>
      </div>

    </div> <!-- /container -->


    <!-- TestApp core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/javascript">
    Parse.initialize("6AjYsV499n0HKWSI6GFcH5U5f5KFGMHeHctsVLZP", "1SrAvY5wnhOW8YYyy54DkhNlWryNY2uYNJoNrzq3");

    var signIn;

    $("#signUp").on('click', function(e){
      e.preventDefault();
      window.location.href = "signup.html";
    });

    $("#signIn").on('click',function(e){
      e.preventDefault();
      signIn();
    });

    signIn = function(){
      var User = Parse.Object.extend("User");
      var query = new Parse.Query(User);
      var username = $("#username").val();
      var password = $("#password").val();
      query.equalTo("username", username);
      query.equalTo("password", password)
      query.find({
        success: function(){
          window.location.href = "noteList.html";
        },
        error: function(){
          alert("sorry could not find the user");
        }
      })
    }

  </script>

</body>
</html>